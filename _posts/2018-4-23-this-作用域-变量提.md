---
layout: post
title: this 指针 作用域链 变量提升
subtitle: this var scope 
date: 2018-4-22
author: jacob
header-img: img/post_bg_04.jpg
catalog: true
tags: 
    - this 
    - var
    - scope
---

## this
- 执行时候绑定
- 指向直接调用者（不准确）
- new 改变指向

## var 

```
function testOrder(arg) {
    console.log(arg); // arg是形参，不会被重新定义
    console.log(a); // 因为函数声明比变量声明优先级高，所以这里a是函数
    var arg = 'hello'; // var arg;变量声明被忽略， arg = 'hello'被执行
    var a = 10; // var a;被忽视; a = 10被执行，a变成number
    function a() {
        console.log('fun');
    } // 被提升到作用域顶部
    console.log(a); // 输出10
    console.log(arg); // 输出hello
}; 
```
[](https://ws4.sinaimg.cn/large/006tKfTcly1fridd5vqolj30uk0lkn3k.jpg)

## 作用域链

>当查找变量的时候，会先从当前上下文的变量对象中查找，如果没有找到，就会从父级(词法层面上的父级)执行上下文的变量对象中查找，一直找到全局上下文的变量对象，也就是全局对象。这样由多个执行上下文的变量对象构成的链表就叫做作用域链。函数的作用域在函数定义的时候就决定

```
```

## 闭包 
>闭包是指有权访问另一个函数作用域中变量的函数，创建闭包的最常见的方式就是在一个函数内创建另一个函数，通过另一个函数访问这个函数的局部变量,利用闭包可以突破作用链域，将函数内部的变量和方法传递到外部。

- 1.函数内再嵌套函数
- 2.内部函数可以引用外层的参数和变量
- 3.参数和变量不会被垃圾回收机制回收